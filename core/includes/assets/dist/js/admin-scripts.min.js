!function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(p&&p(e);d.length;)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={0:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var p=c;s.push([99,1]),n()}({168:function(t,e,n){"use strict";(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function n(t){return t instanceof Object&&Object.keys(t).length>0}t.fn.jsonBrowse=function(a,o){return o=o||{},this.each((function(){var s=function t(a,o){var s="";if("string"==typeof a)a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)?s+='<a href="'+a+'" class="json-string">'+a+"</a>":s+='<span class="json-string">"'+a+'"</span>';else if("number"==typeof a)s+='<span class="json-literal">'+a+"</span>";else if("boolean"==typeof a)s+='<span class="json-literal">'+a+"</span>";else if(null===a)s+='<span class="json-literal">null</span>';else if(a instanceof Array)if(a.length>0){s+='[<ol class="json-array">';for(var i=0;i<a.length;++i)s+="<li>",n(a[i])&&(s+='<a href class="json-toggle"></a>'),s+=t(a[i],o),i<a.length-1&&(s+=","),s+="</li>";s+="</ol>]"}else s+="[]";else if("object"===(void 0===a?"undefined":e(a))){var r=Object.keys(a).length;if(r>0){for(var c in s+='{<ul class="json-dict">',a)if(a.hasOwnProperty(c)){s+="<li>";var l=o.withQuotes?'<span class="json-string">"'+c+'"</span>':c;n(a[c])?s+='<a href class="json-toggle">'+l+"</a>":s+=l,s+=": "+t(a[c],o),--r>0&&(s+=","),s+="</li>"}s+="</ul>}"}else s+="{}"}return s}(a,o);n(a)&&(s='<a href class="json-toggle"></a>'+s),t(this).html(s),t(this).off("click"),t(this).on("click","a.json-toggle",(function(){var e=t(this).toggleClass("collapsed").siblings("ul.json-dict, ol.json-array");if(e.toggle(),e.is(":visible"))e.siblings(".json-placeholder").remove();else{var n=e.children("li").length,a=n+(n>1?" items":" item");e.after('<a href class="json-placeholder">'+a+"</a>")}return!1})),t(this).on("click","a.json-placeholder",(function(){return t(this).siblings("a.json-toggle").click(),!1})),1==o.collapsed&&t(this).find("a.json-toggle").click()}))}}(t)}).call(this,n(2))},169:function(t,e,n){"use strict";var a,o,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[n(2)],void 0===(s="function"==typeof(a=function(t){var e=-1,n=-1,a=function(t){return parseFloat(t)||0},o=function(e){var n=t(e),o=null,s=[];return n.each((function(){var e=t(this),n=e.offset().top-a(e.css("margin-top")),i=s.length>0?s[s.length-1]:null;null===i?s.push(e):Math.floor(Math.abs(o-n))<=1?s[s.length-1]=i.add(e):s.push(e),o=n})),s},s=function(e){var n={byRow:!0,property:"height",target:null,remove:!1};return"object"==(void 0===e?"undefined":i(e))?t.extend(n,e):("boolean"==typeof e?n.byRow=e:"remove"===e&&(n.remove=!0),n)},r=t.fn.matchHeight=function(e){var n=s(e);if(n.remove){var a=this;return this.css(n.property,""),t.each(r._groups,(function(t,e){e.elements=e.elements.not(a)})),this}return this.length<=1&&!n.target||(r._groups.push({elements:this,options:n}),r._apply(this,n)),this};r.version="0.7.2",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,r._afterUpdate=null,r._rows=o,r._parse=a,r._parseOptions=s,r._apply=function(e,n){var i=s(n),c=t(e),l=[c],p=t(window).scrollTop(),u=t("html").outerHeight(!0),d=c.parents().filter(":hidden");return d.each((function(){var e=t(this);e.data("style-cache",e.attr("style"))})),d.css("display","block"),i.byRow&&!i.target&&(c.each((function(){var e=t(this),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block"),e.data("style-cache",e.attr("style")),e.css({display:n,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})})),l=o(c),c.each((function(){var e=t(this);e.attr("style",e.data("style-cache")||"")}))),t.each(l,(function(e,n){var o=t(n),s=0;if(i.target)s=i.target.outerHeight(!1);else{if(i.byRow&&o.length<=1)return void o.css(i.property,"");o.each((function(){var e=t(this),n=e.attr("style"),a=e.css("display");"inline-block"!==a&&"flex"!==a&&"inline-flex"!==a&&(a="block");var o={display:a};o[i.property]="",e.css(o),e.outerHeight(!1)>s&&(s=e.outerHeight(!1)),n?e.attr("style",n):e.css("display","")}))}o.each((function(){var e=t(this),n=0;i.target&&e.is(i.target)||("border-box"!==e.css("box-sizing")&&(n+=a(e.css("border-top-width"))+a(e.css("border-bottom-width")),n+=a(e.css("padding-top"))+a(e.css("padding-bottom"))),e.css(i.property,s-n+"px"))}))})),d.each((function(){var e=t(this);e.attr("style",e.data("style-cache")||null)})),r._maintainScroll&&t(window).scrollTop(p/u*t("html").outerHeight(!0)),this},r._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each((function(){var n=t(this),a=n.attr("data-mh")||n.attr("data-match-height");e[a]=a in e?e[a].add(n):n})),t.each(e,(function(){this.matchHeight(!0)}))};var c=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,(function(){r._apply(this.elements,this.options)})),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(a,o){if(o&&"resize"===o.type){var s=t(window).width();if(s===e)return;e=s}a?-1===n&&(n=setTimeout((function(){c(o),n=-1}),r._throttle)):c(o)},t(r._applyDataApi);var l=t.fn.on?"on":"bind";t(window)[l]("load",(function(t){r._update(!1,t)})),t(window)[l]("resize orientationchange",(function(t){r._update(!0,t)}))})?a.apply(e,o):a)||(t.exports=s)},170:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=document.location.search.substr(1).split("&");if(t){t=encodeURI(t),e=e?encodeURI(e):"";for(var o,s=a.length;s--;)if((o=a[s].split("="))[0]==t){o[1]=e,a[s]=o.join("=");break}s<0&&(a[a.length]=[t,e].join("="))}var i=window.location.origin+(n||window.location.pathname),r=i+"?"+a.join("&")+window.location.hash;window.history.replaceState(null,null,r)}},171:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,a,o=(e||decodeURIComponent(window.location.search.substring(1))).split("&");for(a=0;a<o.length;a++)if((n=o[a].split("="))[0]===t)return void 0===n[1]||n[1]}},172:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function e(t){return t.replace(/```([^`]+)```/g,"<pre><code>$1</code></pre>")}function n(n){var a=t("#chat"),o="";window.gpteData.messages=[],a.empty(),t.ajax({type:"post",dataType:"json",url:gpte.ajax_url,timeout:7e3,data:{action:"gpte_fetch_messages",chat_id:n,gpte_nonce:gpte.ajax_nonce},success:function(n){n.success&&(t.each(n.data.messages,(function(t,s){if("messages"in window.gpteData||(window.gpteData.messages=[]),window.gpteData.messages[t]=s,"command"in s&&s.command&&"name"in s.command&&"do_nothing"!==s.command.name&&t==n.data.messages.length-1&&(o='<div class="gpte-accept">Accept</div>'),"system"!==s.role){var i="assistant"===s.role||"system"===s.role?"chat__message chat__message--bot":"chat__message chat__message--user";a.append(e('<div class="'+i+" "+s.role+'" data-message-id="'+t+'">'+s.content+o+"</div>"))}})),a.scrollTop(a[0].scrollHeight))}})}function a(n){var a=t("#agents-wrapper");a.empty(),t.ajax({type:"post",dataType:"json",url:gpte.ajax_url,timeout:7e3,data:{action:"gpte_fetch_agents",chat_id:n,gpte_nonce:gpte.ajax_nonce},success:function(n){n.success&&t.each(n.data.agents,(function(t,n){window.gpteData.agents[n.ID]=n,a.append(e('<div id="chat-btn-'+n.ID+'" class="chats__button gpte-btn gpte-btn--sm gpte-btn--secondary w-100 agent" data-chat-id="'+n.ID+'">'+n.post_title+"</div>"))})),t(".chats__button").removeClass("current"),t("#chat-btn-"+window.gpteData.currentID).addClass("current")}})}"yes"===gpte.is_chat&&(window.gpteData={mainID:gpte.current_chat,currentID:gpte.agent_id>0?gpte.agent_id:gpte.current_chat,automode:"yes"===gpte.automode,messages:[],agents:[]},t("#chatForm").submit((function(n){n.preventDefault();var o=t("#chat-input"),s=t("#chat"),i=o.val(),r=0;i&&("messages"in window.gpteData||(window.gpteData.messages=[]),window.gpteData.messages.push(i),r=window.gpteData.messages.length-1,t(".gpte-accept").hide(),s.append(e('<div class="chat__message chat__message--user" data-message-id="'+r+'">'+i+"</div>")),setTimeout((function(){t("#thinking").show()}),100),t.ajax({type:"post",dataType:"json",url:gpte.ajax_url,timeout:7e4,data:{action:"gpte_send_message",message:i,chat_id:window.gpteData.currentID,gpte_nonce:gpte.ajax_nonce},success:function(n){if(t("#thinking").hide(),n.success){var i="",c="";"data"in n&&"message"in n.data&&(window.gpteData.messages.push(n.data.message),r=window.gpteData.messages.length-1,"role"in n.data.message&&(i=n.data.message.role),"command"in n.data.message&&n.data.message.command&&"name"in n.data.message.command&&"do_nothing"!==n.data.message.command.name&&(c='<div class="gpte-accept">Accept</div>')),s.append(e('<div class="chat__message chat__message--bot '+i+'" data-message-id="'+r+'">'+n.answer+c+"</div>")),s.scrollTop(s[0].scrollHeight),o.val(""),a(window.gpteData.mainID),l=window.gpteData.currentID,t.ajax({type:"post",dataType:"json",url:gpte.ajax_url,timeout:7e3,data:{action:"gpte_fetch_messages",chat_id:l,gpte_nonce:gpte.ajax_nonce},success:function(e){e.success&&(window.gpteData.messages=[],t.each(e.data.messages,(function(t,e){window.gpteData.messages[t]=e})))}}),window.gpteData.automode&&"data"in n&&"message"in n.data&&"command"in n.data.message&&n.data.message.command&&(t("#chat-input").val("yes"),t("#chatForm").submit())}var l},error:function(){t("#thinking").hide()}}))})),t(document).on("click",".chat__message--bot",(function(){var e=t(this).data("message-id"),n=function(e,n){if(n in window.gpteData.messages){var a="",o=window.gpteData.messages[n];"thoughts"in o&&("reasoning"in o.thoughts&&(a+='<div class="message__reasoning">',a+="<strong>Reasoning:</strong><br />",a+="<p>"+o.thoughts.reasoning+"</p>",a+="</div>"),"plan"in o.thoughts&&(a+='<div class="message__plan">',a+="<strong>Plan:</strong><br />",a+=function(e){var n="<ol>";return t.each(e,(function(t,e){e&&(n+="<li>"+e+"</li>")})),n+="</ol>"}(o.thoughts.plan),a+="<p></p>",a+="</div>"),"criticism"in o.thoughts&&(a+='<div class="message__criticism">',a+="<strong>Criticism:</strong><br />",a+="<p>"+o.thoughts.criticism+"</p>",a+="</div>")),"command"in o&&(a+='<div class="message__reasoning">',a+="<strong>Command:</strong><br />",o.command.name?(a+="command_details"in o?"<p>"+o.command_details.name+": "+o.command.name+"</p>":"<p>"+o.command.name+"</p>",o.command.args?a+="<pre>"+(s=JSON.stringify(o.command.args,null,4),(i=document.createElement("div")).textContent=s,i.innerHTML+"</pre>"):a+="<pre>No Arguments given.</pre>"):a+="<p>No command given.</p>",a+="</div>"),"result"in o&&(a+='<div class="message__reasoning">',a+="<strong>Result:</strong><br />",o.result?(a+="<p>This is the result for the previous command.</p>",a+="<pre>"+JSON.stringify(o.result,null,4)+"</pre>"):a+="<p>No result given.</p>",a+="</div>"),t("#message-data").html(a)}var s,i}(window.gpteData.currentID,e);t("#message-data").html(n)})),t(document).on("click",".gpte-accept",(function(){t(this).hide(),t("#chat-input").val("yes"),t("#chatForm").submit()})),t(document).on("click","#automode",(function(){var e=t(this).is(":checked");window.gpteData.automode=e})),t(document).on("click",".chats__button",(function(){var e,a=t(this).data("chat-id");a&&(e=a,t("#message-data").empty(),window.gpteData.currentID=e,n(e),t(".chats__button").removeClass("current"),t("#chat-btn-"+e).addClass("current"),t("#chat-input").focus())})),n(window.gpteData.currentID),a(window.gpteData.mainID),t("#chat-input").focus())}}).call(this,n(2))},2:function(t,e){t.exports=jQuery},99:function(t,e,n){"use strict";(function(t,e){var a=r(n(173));n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(174),n(168),n(169);var o=r(n(170)),s=r(n(171)),i=r(n(172));function r(t){return t&&t.__esModule?t:{default:t}}window.$=t,window.tippy=a.default,window.insertParamToUrl=o.default,window.getUrlParam=s.default,t(document).ready((function(t){(0,i.default)(),(0,a.default)("[data-tippy-content]",{allowHTML:!0,popperOptions:{strategy:"fixed",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","right"]}},{name:"preventOverflow",options:{altAxis:!0,tether:!1}}]}}),t(".gpte-copy-wrapper").each((function(e,n){var o=t(n);o.find("input").on("click",(function(e){t(this).trigger("select"),document.execCommand("copy")})),(0,a.default)(o[0],{arrow:!0,animation:"fade",trigger:"click",content:o.data("gpte-tippy-content")||"copied!",offset:[0,15],onShow:function(t){setTimeout((function(){t.hide()}),1500)}})}))})),e(document).on("click",".gpte-confirm",(function(t){confirm("Are you sure you want to do this?")||t.preventDefault()}))}).call(this,n(2),n(2))}});
//# sourceMappingURL=admin-scripts.min.js.map